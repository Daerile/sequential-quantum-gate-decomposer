<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Quantum Gate Decomposer: Introduction to Quantum Gate Decomposer v1.1</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Quantum Gate Decomposer"/>
<link href="QGD_customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quantum Gate Decomposer
   &#160;<span id="projectnumber">v1.2</span>
   </div>
   <div id="projectbrief">Powerful decomposition of almost any unitary into U3 and CNOT gates</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="group__examples.html"><span>Examples</span></a></li>
      <li><a href="group__python.html"><span>Python&#160;Interface</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="group__faq.html"><span>FAQ</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Introduction to Quantum Gate Decomposer v1.1 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Quantum Gate Decomposer v1.1 is a free software distributed under the <a href="http://www.gnu.org/licenses/">GNU General Public License</a>. The project was supported by OTKA PD123927 grant and by the National Research Development and Innovation Office of Hungary via the Quantum Technology National Excellence Program (Project No. 2017-1.2.1-NKP-2017-00001).</p>
<p>Quantum Gate Decomposer (QGD) is an optimization method to decompose an arbitrary NxN Unitary matrix into a sequence of <a class="el" href="class_u3.html" title="A class representing a U3 operation. ">U3</a> and <a class="el" href="class_c_n_o_t.html" title="A class representing a CNOT operation. ">CNOT</a> gates. It is written in C/C++ providing a simple Python interface via <a href="https://docs.python.org/3/library/ctypes.html">ctypes</a> and a possibility to run QGD as a standalone C executable. The present package is supplied with automake tools to ease its deployment. The QGD package can be built with both Intel and GNU compilers, and link against various CBLAS libraries installed on the system. (So far the CLBAS libraries of the GNU Scientific Library and the Intel MKL packages were tested.) In the following we briefly summarize the steps to build, install and use the QGD package.</p>
<div class="image">
<img src="layers_resized.png" alt="layers_resized.png"/>
</div>
 <h1>Dependencies</h1>
<p>The optimization algorithm of QGD relies on the <a href="https://www.gnu.org/software/gsl/doc/html/multimin.html">multimin</a> component of the <a href="https://www.gnu.org/software/gsl/doc/html/index.html">GNU Scientific Library</a>. We developed and tested the QGD package with GNU Scientific Library of version 2.5 and 2.6. The dependencies necessary to compile and build the QGD package are the followings:</p>
<ul>
<li><a href="https://www.gnu.org/software/automake/">automake</a> (for further development purposes)</li>
<li><a href="https://www.gnu.org/software/autoconf/">autoconf</a> (for further development purposes)</li>
<li><a href="https://www.gnu.org/software/libtool/">libtool</a></li>
<li><a href="https://www.gnu.org/software/make/">make</a></li>
<li><a href="https://www.gnu.org/software/gsl/doc/html/index.html">GNU Scientific Library</a> (&gt;=2.5)</li>
<li>C++/C <a href="https://software.intel.com/content/www/us/en/develop/tools/compilers/c-compilers.html">Intel</a> (&gt;=14.0.1) or <a href="https://gcc.gnu.org/">GNU</a> (&gt;=v4.4.7) compiler</li>
<li><a href="https://www.openmp.org/">OpenMP</a> or <a href="https://github.com/oneapi-src/oneTBB">TBB</a> library</li>
<li><a href="https://software.intel.com/content/www/us/en/develop/tools/math-kernel-library.html">Intel MKL</a> (optional)</li>
<li><a href="https://www.doxygen.nl/index.html">Doxygen</a> (optional)</li>
</ul>
<p>The Python interface of QGD was developed and tested with Python 3.6 and 3.7. The QGD Python interface needs the following packages to be installed on the system:</p>
<ul>
<li><a href="https://qiskit.org/documentation/install.html">Qiskit</a></li>
<li><a href="https://numpy.org/install/">Numpy</a></li>
<li><a href="https://www.scipy.org/install.html">scipy</a></li>
<li><a href="https://docs.python.org/3/library/ctypes.html">ctypes</a></li>
</ul>
<h1>How to build GNU Scientific Library</h1>
<p>If the GNU Scientific Library is not installed on the system, it can be easily compiled and deployed by the end user without administrative privileges. The GNU Scientific Library can be downloaded from the site <a href="https://www.gnu.org/software/gsl/">https://www.gnu.org/software/gsl/</a>. After the downloaded package is extracted somewhere in the home directory of the user (<b>path/to/gslsource</b>), one should configure the compiling environment using the <b>configure</b> tool. Depending on the individual settings the default compiler to be invoked might be different from HPC to HPC. To ensure the usage of the GNU compiler, the following shell command should be executed inside the directory <b>path/to/gslsource</b>:</p>
<div class="snippet"> $ ./configure &ndash;prefix=path/to/gsl FC=gfortran CC=gcc CXX=g++ </div><p>(Similarly, Intel compiler can be forced by setting FC=ifort CC=icc and CXX=icpc.) The installation directory of the compiled GNU Scientific Library is given by &ndash;prefix=path/to/gsl (which is different from the directory path of the source files given by <b>path/to/gslsource</b>). To install GNU Scientific Library the user should have read and write permissions on the path <b>path/to/gsl</b> (which might be for example /home/username/gsl). After the successful configuration the GNU Scientific Library can be compiled by the shell command</p>
<div class="snippet"> $ make </div><p>The compilation of the GNU Scientific Library takes some time. When the compilation is done, the package (including the C header files and the static and shared libraries) is installed into the directory <b>path/to/gsl</b> by the shell command:</p>
<div class="snippet"> $ make install </div><h1>Download the Quantum Gate Decomposer package</h1>
<p>The developer version Quantum Gate Decomposer package can be downloaded from github repository <a href="https://github.com/rakytap/quantum-gate-decomposer/tree/master">https://github.com/rakytap/quantum-gate-decomposer/tree/master</a>. After the downloaded package is extracted into the directory <b>path/to/qgdsource</b> (which would be the path to the source code of the QGD package), one can proceed to the compilation steps described in the next section.</p>
<h1>How to deploy the Quantum Gate Decomposer package</h1>
<p>Similarly to GNU Scientific Library, the QGD package is also equipped with automake tools to ease the compilation and the deployment of the package. To ensure that QGD package would find the necessary libraries and header files during compilation time it is advised to define the following environment variables:</p>
<div class="snippet"> $ export GSL_LIB_DIR=path/to/gsl/lib(64) &amp;&amp; export GSL_INC_DIR=path/to/gsl/include </div><p>When using Intel compiler equipped with Intel MKL on a HPC, the compiler can find his way to the MKL libraries automatically through the environment variable MKLROOT which points to the root directory of the MKL package. If the Intel environment variables are not set, they can be initialized by the shell command:</p>
<div class="snippet"> $ source /opt/intel/composerxe/bin/compilervars.sh intel64 </div><p>where /opt/intel/composerxe is the path to the Intel compiler package location which might be different from the given one. (This step can be omitted when using GNU compiler, or when we do not have intention to use Intel MKL or the Intel TBB library) The QGD package is parallelized via both OpenMP and TBB libraries. At compilation time it is possible to chose between them: to use TBB parallelization the &ndash;with-tbb flag should be passed to the configuration script. If this flag is missing OpenMP is chosen instead of TBB. The following tips might help to choose between the two parallelization environments: OpenMP is usually part of the base C++ compiler Intel TBB combined with Intel MKL gives the most powerful combination. If Intel TBB is not present in the system, it can be easily installed via the apt utility (sudo apt install libtbb-dev) or it can be downloaded and built from <a href="https://github.com/oneapi-src/oneTBB">https://github.com/oneapi-src/oneTBB</a> TBB automatically determines the best distribution of recourses. (This feature comes very handy in codes containing nested parallelism like the QGD package.) The nested OpenMP threads can be set by hand in the QGD package If TBB parallelization is chosen, one should supply also the necessary environment variables pointing to the header and lib files of the TBB package. For newer Intel compilers the TBB package is part of the Intel compiler package, similarly to the MKL package. If the TBB library is located at non-standrad path, then setting the</p>
<div class="snippet"> $ export TBB_LIB_DIR=path/to/TBB/lib(64) &amp;&amp; export TBB_INC_DIR=path/to/TBB/include </div><p>environment variables are sufficient for succesfull compilation. After the basic environment variables are set, the compilation can be configured by the command executed in the source directory <b>path/to/qgdsource</b> of the QGD package:</p>
<div class="snippet"> $ ./configure &ndash;prefix=path/to/qgd &ndash;with-tbb CXX=g++ </div><p>where <b>path/to/qgd</b> is the installation path of the Quantum Gate Decomposer package. The **&ndash;with-tbb** flag is optional for using TBB therading.</p>
<p>The installation directory of the compiled QGD package is given by **&ndash;prefix=path/to/qgd** (which is different from the directory path of the source files given by <b>path/to/qgdsource</b>). The user should have read and write permissions on the path <b>path/to/qgd</b> (which can be for example /home/username/qgd). Another optional flag **&ndash;enable-ffast-math** enables the compiler's agile floating-point optimization. While in general this optimization is considered to be dangerous, the runtime performance might be significantly increased due to this optimization. Try to compile without and with this flag and compare the performance and stability of the resulted binaries (for further information see section <b>How to use</b>). On the other hand, if one choses Intel compiler to built the QGD package, the following configuration settings should be invoked:</p>
<div class="snippet"> $ ./configure &ndash;prefix=path/to/qgd &ndash;with-mkl &ndash;with-tbb CXX=icpc </div><p>The &ndash;with-mkl flag sets the appropriate linking of the QGD package with the Intel MKL package. The **&ndash;with-tbb** flag is optional for using TBB therading. If the &ndash;with-mkl flag is missing from the configuration than the CBLAS library of the GNU Scientific Library is used for linear algebra operations. After the successful configuration the QGD package can be compiled by the shell command executed in the directory <b>path/to/qgdsource</b>:</p>
<div class="snippet"> $ make </div><p>After a successful compilation of the QGD package, it can be installed into the directory <b>path/to/gsl</b> by the shell command:</p>
<div class="snippet"> $ make install </div><p>The installation procedure will copy all the C header files, the static and shared libraries needed for further developments and the python interface files including a simple python example file <b><a class="el" href="example_8py.html" title="Simple example python code demonstrating the basic usage of the Python interface of the Quantum Gate ...">example.py</a></b> into the installation destination defined by the <b>path/to*qgd</b> path.</p>
<h1>How to use</h1>
<p>The algorithm implemented in the QGD package intends to transform the given unitary into an identity matrix via a sequence of <a class="el" href="class_c_n_o_t.html" title="A class representing a CNOT operation. ">CNOT</a> and <a class="el" href="class_u3.html" title="A class representing a U3 operation. ">U3</a> operations applied on the unitary. Thus, in order to really get the decomposition of a unitary, one should rather provide the complex transpose of this unitary as the input for the QGD decomposing process.</p>
<h2>Standalone executable</h2>
<p>During the compilation and the installation processes of the QGD package a standalone executable was also built and copied into the directory <b>path/to/qgd/bin</b>. This executable can be executed by a command</p>
<div class="snippet"> $ ./decomposition_test </div><p>and it starts a decomposition of a random general unitary matrix. The source of this example is located in <b>path/to/qgdsource/test_standalone/</b> and shows a simple test case of the usage of the QGD package. For furher details to use the QGD package see page <a href="group__examples.html">Examples</a>. The Doxygen documentation of the QGD API can be also generated in order fully exploit the functionalities of the QGD package (for further details see section <b>Doxygen manual</b> at the end of this manual).</p>
<h2>Python Interface</h2>
<p>The QGD package contains a simple python interface allowing the access of the functionalities of the QGD package from Python. The usage of the QGD Python interface is demonstrated in the tutorial <a href="group__python.html">QGD Python Interface</a> and in the example file <b><a class="el" href="example_8py.html" title="Simple example python code demonstrating the basic usage of the Python interface of the Quantum Gate ...">example.py</a></b> located in the directory <b>path/to/qgd</b> and can be run similarly to any python scripts. The example file imports the <b><a class="el" href="namespaceqgd__python.html">qgd_python</a></b> module containing the wrapper class for the decomposition of a given unitary matrix. The wrapper class loads the shared library libqgd.so and performs the data conversion between the python and C sides.</p>
<p>It should be noted, however, that the python interface functions are implemented only for few functionalities of the whole QGD API. Another desired interface functions can be implemented following the source of already implemented interface function in source file <b><a class="el" href="python__interface_8cpp.html" title="Methods of the QGD Python Interface. ">python_interface.cpp</a></b> in the main directory of the QGD source code.</p>
<h1>Development</h1>
<p>The QGD API enables the extension of the capabilities of the QGD packages into further projects. The QGD header files needed for the compilation of the project are provided in the directory <b>path/to/qgd/include</b>. The compiled object files should than be linked against the static or shared QGD libraries libqgd.a or libqgd.so, respectively, located in the directory <b>path/to/qgd/lib(64)</b>. In order to exploit the speedup comming from agile floating point optimization the **-ffast-math** option must be append when linking against the QGD API library is done. The full documentation of the QGD API can be accessed by a Doxygen manual which can be accessed and recreated by steps described in the following section.</p>
<h1>Doxygen manual</h1>
<p>The QGD API is supported by a Doxygen documentation. To recreate the Doxygen documentation run the command</p>
<div class="snippet"> $ make doxygen &amp;&amp; make doxygen-install </div><p>in the source directory <b>path/to/qgdsource</b> of the QGD package. In the end of the process the Doxygen documentation would be accessible trough the file <b>path/to/qgd/Docs/html/index.html</b> or via the web documentation of the project located at <a href="https://itl88.elte.hu/rakytap/Download/QGD/html">this</a> site. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 29 2020 11:18:27 for Quantum Gate Decomposer by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
