<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Quantum Gate Decomposer: How to deploy the Quantum Gate Decomposer package</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Quantum Gate Decomposer"/>
<link href="QGD_customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quantum Gate Decomposer
   &#160;<span id="projectnumber">v1.1</span>
   </div>
   <div id="projectbrief">Powerful decomposition of almost any unitary into U3 and CNOT gates</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="download.html"><span>Download</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="group___examples.html"><span>Examples</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="faq.html"><span>FAQ</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">How to deploy the Quantum Gate Decomposer package </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Similarly to GNU Scientific Library, the QGD package is also equipped with automake tools to ease the compilation and the deployment of the package. To ensure that QGD package would find the necessary libraries and header files during compilation time it is advised to define the following environment variables:</p>
<p>$ export GSL_LIB_DIR=path/to/gsl/lib64</p>
<p>$ export GSL_INC_DIR=path/to/gsl/include</p>
<p>When using Intel compiler equipped with Intel MKL on a HPC, the compiler can find his way to the MKL libraries automatically through the environment variable MKLROOT which points to the root directory of the MKL package. If the Intel environment variables are not set, they can be initialized by the shell command:</p>
<p>$ source /opt/intel/composerxe/bin/compilervars.sh intel64</p>
<p>where /opt/intel/composerxe is the path to the Intel compiler package location which might be different from the given one. (This step can be omitted when using GNU compiler, or when we do not have intention to use Intel MKL) After the basic environment variables are set, the compilation can be configured by the command executed in the source directory <b>path/to/qgdsource</b> of the QGD package:</p>
<p>$ ./configure &ndash;prefix=path/to/qgd CC=gcc CXX=g++</p>
<p>where path/to/qgd is the installation path of the Quantum Gate Decomposer package.</p>
<p>The installation directory of the compiled QGD package is given by **&ndash;prefix=path/to/qgd** (which is different from the directory path of the source files given by <b>path/to/qgdsource</b>). The user should have read and write permissions on the path <b>path/to/qgd</b> (which can be for example /home/username/qgd). Another optional flag **&ndash;enable-ffast-math** enables the compiler's floating-point optimization (which is usually enabled by default in Intel compilers settings). While in general this optimization is considered to be dangerous, the runtime performance might be significantly increased due to this optimization. Try to compile without and with this flag and compare the performance and stability of the resulted binaries (for further information see section <b>How to use</b>). We notice, that the QGD Python interface does not fully support this optimization resulting in lower performance than a standalone C applications. On the other hand, if one choses Intel compiler to built the QGD package, the following configuration settings should be invoked:</p>
<p>$ ./configure &ndash;prefix=path/to/qgd &ndash;with-mkl CC=icc CXX=icpc</p>
<p>The &ndash;with-mkl flag sets the appropriate linking of the QGD package with the Intel MKL package. If the flag is missing from the configuration than the CBLAS library of the GNU Scientific Library is used for linear algebra operations. After the successful configuration the QGD package can be compiled by the shell command executed in the directory <b>path/to/qgdsource</b>:</p>
<p>$ make</p>
<p>After a successful compilation of the QGD package, it can be installed into the directory <b>path/to/gsl</b> by the shell command:</p>
<p>$ make install</p>
<p>The installation procedure will copy all the C header files, the static and shared libraries needed for further developments and the python interface files including a simple python example file <b><a class="el" href="example_8py.html">example.py</a></b> into the installation destination defined by the <b>path/to*qgd</b> path.</p>
<h1>How to use</h1>
<p>The algorithm implemented in the QGD package intends to transform the given unitary into an identity matrix via a sequence of <a class="el" href="class_c_n_o_t.html">CNOT</a> and <a class="el" href="class_u3.html">U3</a> operations applied on the unitary. Thus, in order to really get the decomposition of a unitary, one should rather provide the complex transpose of this unitary as the input for the QGD decomposing process.</p>
<h2>Standalone executable</h2>
<p>During the compilation and the installation processes of the QGD package a standalone executable was also built and copied into the directory <b>path/to/gsl/bin</b>. This executable can be executed by a command</p>
<p>$ ./decomposition_test</p>
<p>and it starts a decomposition of a random general unitary matrix. The source of this example is located in <b>path/to/qgdsource/test_standalone/</b> and shows a simple test case of the usage of the QGD package. The Doxygen documentation of the QGD API can be also generated in order fully exploit the functionalities of the QGD package (for further details see section <b>Doxygen manual</b> at the end of this manual).</p>
<h2>Python Interface</h2>
<p>The QGD package contains a simple python interface allowing the access of the functionalities of the QGD package from Python. The usage of the QGD Python interface is demonstrated in the example file <b><a class="el" href="example_8py.html">example.py</a></b> located in the directory <b>path/to/qgd</b> and can be run similarly to any python scripts. The example file imports the <b><a class="el" href="namespaceqgd__python.html">qgd_python</a></b> module containing the wrapper class for the decomposition of a given unitary matrix. The wrapper class loads the shared library libqgd.so and performs the data conversion between the python and C sides.</p>
<p>It should be noted, however, that the python interface functions are implemented only for few functionalities of the whole QGD API. Another desired interface functions can be implemented following the source of already implemented interface function in source file <b><a class="el" href="python__interface_8cpp.html">python_interface.cpp</a></b> in the main directory of the QGD source code.</p>
<h1>development Development</h1>
<p>The QGD API enables the extension of the capabilities of the QGD packages into further projects. The QGD header files needed for the compilation of the project are provided in the directory <b>path/to/qgd/include</b>. The compiled object files should than be linked against the static or shared QGD libraries libqgd.a or libqgd.so, respectively, located in the directory <b>path/to/qgd/lib64</b>. In order to exploit the speedup comming from the floating point optimization, we notice that Intel's compiler (usually) use this optimization by default, but when linking with GNU compiler, the -ffast-math option must be append when linking against the QGD API library is done. The full documentation of the QGD API can be accessed by a Doxygen manual which can be accessed and recreated by steps described in the following section </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 9 2020 15:11:59 for Quantum Gate Decomposer by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
